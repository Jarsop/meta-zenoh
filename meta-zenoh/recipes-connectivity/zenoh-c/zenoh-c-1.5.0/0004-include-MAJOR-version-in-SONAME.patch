From 1895d8d4075c6565ec2ff7108a008827243a1299 Mon Sep 17 00:00:00 2001
From: Georg Schmalhofer <georg.schmalhofer@gmail.com>
Date: Sun, 28 Sep 2025 08:21:13 +0200
Subject: [PATCH] include MAJOR version in SONAME

Signed-off-by: Georg Schmalhofer <georg.schmalhofer@gmail.com>
---
 build.rs | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/build.rs b/build.rs
index f2099a0b..9905aee1 100644
--- a/build.rs
+++ b/build.rs
@@ -57,7 +57,7 @@ fn main() {
     if std::env::var("CARGO_CFG_TARGET_OS").as_deref() == Ok("linux") {
         let name = std::env::var("CARGO_PKG_NAME").unwrap();
         // Create the shared library name by removing hyphens from the pkg_name
-        let soname = format!("lib{}.so", name.replace('-', ""));
+        let soname = format!("lib{}.so.1", name.replace('-', ""));
         println!("cargo:rustc-cdylib-link-arg=-Wl,-soname,{}", soname);
     }
 }
